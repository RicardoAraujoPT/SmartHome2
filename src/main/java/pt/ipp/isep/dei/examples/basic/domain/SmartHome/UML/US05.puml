@startuml
'https://plantuml.com/sequence-diagram

title <font color=#800020>US05: Add a new device to a room</font>


autonumber

participant ":US05V2AddDeviceToRoomController"
participant ":House"
participant ":RoomDTOMapper"
participant "myRoom :Room"
participant "myDevice :Device"
participant ":DeviceDTOMapper"


[o-> ":US05V2AddDeviceToRoomController" : addDeviceToRoom(roomName,deviceName)
":US05V2AddDeviceToRoomController" -> ":House" : getDeviceByName(roomName)
activate ":House"
":US05V2AddDeviceToRoomController" <-- ":House" : listOfRooms
deactivate ":House"
":US05V2AddDeviceToRoomController" -> ":RoomDTOMapper" : roomMap_DTOAndDomain(rooms)
activate ":RoomDTOMapper"
":US05V2AddDeviceToRoomController" <-- ":RoomDTOMapper" : listOfRooms_DTOAndRooms
deactivate ":RoomDTOMapper"
":US05V2AddDeviceToRoomController" -> ":US05V2AddDeviceToRoomController" : listOfRooms_DTOAndRooms.get(roomName)
":US05V2AddDeviceToRoomController" -> "myRoom :Room" : createDevice(deviceName)
activate "myRoom :Room"
"myRoom :Room" -> "myDevice :Device" : Device(deviceName)
activate "myDevice :Device"
"myDevice :Device" --> "myRoom :Room" : myDevice
deactivate "myDevice :Device"
"myRoom :Room" -> "myRoom :Room" : getDevices()
":US05V2AddDeviceToRoomController" <-- "myRoom :Room" : listOfDevices
deactivate "myRoom :Room"
":US05V2AddDeviceToRoomController" -> ":DeviceDTOMapper" : listOfDevices
activate ":DeviceDTOMapper"
":US05V2AddDeviceToRoomController" <-- ":DeviceDTOMapper" : listOfDevicesDTO
deactivate ":DeviceDTOMapper"
[o<-- ":US05V2AddDeviceToRoomController" : listOfDevicesDTO
deactivate ":US05V2AddDeviceToRoomController"




@enduml